<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title id="PageTitle">ezekielmorgan.github.io/CHS</title>
    <meta name="description" content="Yes.">
    <meta name="viewport" content="width=device-width, height=device-height initial-scale=1">
    <link rel="stylesheet" href="../index.css">
    <link rel="stylesheet" href="index.css">
    <link id="GlobalTheme" rel="stylesheet" href="../Themes/Global/dark.css">
    <link id="CHSTheme" rel="stylesheet" href="../Themes/CHS/dark.css">
    <link rel="icon" href="../Images/CHS/Logo.png" type="image/png">
    <script src="index.js" async defer></script>

  <!-- Global loader: site css, theme, footer system -->
  <meta id="footerData" data-version="1" data-madeby="1">
  <script>
    (function () {
      const head = document.head;
      const rootUrl = `${window.location.origin}/`;

      // ---- Ensure site-wide CSS (/index.css) is loaded ----
      const hasRootIndexCss = Array.from(head.querySelectorAll('link[rel="stylesheet"]'))
        .some(l => {
          try { return new URL(l.href, document.baseURI).pathname === '/index.css'; }
          catch { return false; }
        });

      if (!hasRootIndexCss) {
        const siteCss = document.createElement('link');
        siteCss.id = 'SiteCss';
        siteCss.rel = 'stylesheet';
        siteCss.href = `${rootUrl}index.css`;

        const firstStylesheet = head.querySelector('link[rel="stylesheet"]');
        if (firstStylesheet) head.insertBefore(siteCss, firstStylesheet);
        else head.append(siteCss);
      }

      // ---- Ensure global theme CSS is loaded (id=GlobalTheme) ----
      if (!document.getElementById('GlobalTheme')) {
        const globalTheme = document.createElement('link');
        globalTheme.id = 'GlobalTheme';
        globalTheme.rel = 'stylesheet';
        globalTheme.href = `${rootUrl}Themes/Global/dark.css`;

        // Place it after /index.css, before any page-local css when possible
        const firstStylesheet = head.querySelector('link[rel="stylesheet"]');
        if (firstStylesheet) head.insertBefore(globalTheme, firstStylesheet.nextSibling);
        else head.append(globalTheme);
      }

      // ---- Ensure dev menu script is loaded (optional) ----
      if (!head.querySelector('script[data-devmenu="1"]')) {
        const devMenu = document.createElement('script');
        devMenu.src = `${rootUrl}Scripts/devMenu.js`;
        devMenu.async = true;
        devMenu.dataset.devmenu = '1';
        head.append(devMenu);
      }

      // ---- Ensure Global.js is loaded with footer enabled ----
      if (!document.getElementById('Global')) {
        const globalScript = document.createElement('script');
        globalScript.src = `${rootUrl}Scripts/Global.js`;
        globalScript.defer = true;
        globalScript.id = 'Global';
        globalScript.dataset.globals = JSON.stringify(['footer', 'sonar']);
        head.append(globalScript);
      }
    })();
  </script>
</head>

<body style="margin: 0px;">
    <section id="TopBar" class="TopBar">
        <a style="text-decoration: none;" id="TopBarLogo_CONTAINER" href="index.html">
            <img src="../Images/CHS/Logo.png" id="TopBarLogo" class="TopBarLogo">
        </a>
        <a style="text-decoration: none;" id="TopBarTitle" class="TopBarTitle" href="index.html">
            CHS
        </a>
    </section>
    <section id="MainViewport" class="CHSViewport">
        <a>This subsection of will contain all things related to Chaffee Jr/Sr Highschool! The school of which I attended all the way from Pre-K, to the 1st semester of my Junior Year.!</a>
        <br/>
        <br/>
        <a>This page is no where near done, and will likely get a complete redesign at somepoint.</a>
        <br/>
        <br/>
        <a href="./BellSchedule">Bell Schedule with current time</a>
        <br/>
        <a href="./Graphics/">Graphics</a>
        <br/>
        <input type="button" title="Change Theme" value="Change Theme" id="ThemeButton">
    </section>
    <section id="footer">
        ${Version}
    </section>
</body>

</html>